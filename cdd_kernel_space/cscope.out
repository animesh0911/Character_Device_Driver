cscope 15 /home/helpdeskmum/cdd               0000020027
	@chr_drv_ex1.c

1 
	~<löux/kî√l.h
>

2 
	~<löux/öô.h
>

3 
	~<löux/moduÀ.h
>

4 
	~<löux/kdev_t.h
>

5 
	~<löux/fs.h
>

6 
	~<löux/cdev.h
>

7 
	~<löux/devi˚.h
>

8 
	~<löux/¶ab.h
>

9 
	~<löux/uac˚ss.h
>

10 
	~<löux/io˘l.h
>

12 
	#mem_size
 1024

	)

15 
	#WR_DATA
 
	`_IOW
('a', 'a', 
öt32_t
*)

	)

16 
	#RD_DATA
 
	`_IOR
('a', 'b', 
öt32_t
*)

	)

18 
öt32_t
 
	gvÆ
 = 0;

20 
dev_t
 
	gdev
 = 0;

21 
˛ass
 *
	gdev_˛ass
;

22 
cdev
 
	gmy_cdev
;

23 
uöt8_t
 *
	gkî√l_buf„r
;

26 
__öô
 
chr_drivî_öô
();

27 
__exô
 
chr_drivî_exô
();

28 
my_›í
(
öode
 *öode, 
fûe
 *file);

29 
my_ªÀa£
(
öode
 *öode, 
fûe
 *file);

30 
ssize_t
 
my_ªad
(
fûe
 *
fûp
, 
__u£r
 *
buf
, 
size_t
 
Àn
, 
loff_t
 *
off
);

31 
ssize_t
 
my_wrôe
(
fûe
 *
fûp
, c⁄° 
__u£r
 *
buf
, 
size_t
 
Àn
, 
loff_t
 *
off
);

32 
chr_io˘l
(
fûe
 *fûe, 
cmd
, 
¨g
);

34 
fûe_›î©i⁄s
 
	gf›s
 =

36 .
ow√r
 = 
THIS_MODULE
,

37 .
	gªad
 = 
my_ªad
,

38 .
	gwrôe
 = 
my_wrôe
,

39 .
	g›í
 = 
my_›í
,

40 .
	gu∆ocked_io˘l
 = 
chr_io˘l
,

41 .
	gªÀa£
 = 
my_ªÀa£
,

45 
	$my_›í
(
öode
 *öode, 
fûe
 *file)

48 if((
kî√l_buf„r
 = 
	`kmÆloc
(
mem_size
, 
GFP_KERNEL
)) == 0)

50 
	`¥ötk
(
KERN_INFO
"cannotállocate memoryÅoÅhe kernel...\n");

53 
	`¥ötk
(
KERN_INFO
"Device file opened...\n");

55 
	}
}

57 
	$my_ªÀa£
(
öode
 *öode, 
fûe
 *file)

59 
	`k‰ì
(
kî√l_buf„r
);

60 
	`¥ötk
(
KERN_INFO
"Device file closed...\n");

62 
	}
}

64 
ssize_t
 
	$my_ªad
(
fûe
 *
fûp
, 
__u£r
 *
buf
, 
size_t
 
Àn
, 
loff_t
 *
off
)

66 if(
	`c›y_to_u£r
(
buf
, 
kî√l_buf„r
, 
mem_size
) == 0)

67 
	`¥ötk
(
KERN_INFO
"Data isÑead successfully...\n");

68  
mem_size
;

69 
	}
}

71 
ssize_t
 
	$my_wrôe
(
fûe
 *
fûp
, c⁄° 
__u£r
 *
buf
, 
size_t
 
Àn
, 
loff_t
 *
off
)

73 if(
	`c›y_‰om_u£r
(
kî√l_buf„r
, 
buf
, 
Àn
) == 0)

74 
	`¥ötk
(
KERN_INFO
"Data is written successfully...\n");

75  
Àn
;

76 
	}
}

78 
	$chr_io˘l
(
fûe
 *fûe, 
cmd
, 
¨g
)

80 
cmd
)

82 
WR_DATA
:

83 if(
	`c›y_‰om_u£r
(&
vÆ
, (
öt32_t
*)
¨g
, (val)) != 0)

85 
	`¥ötk
(
KERN_INFO
"ioctl write failed...\n");

88 
	`¥ötk
(
KERN_INFO
"(io˘lËVÆuêwrôã¿%d\n", 
vÆ
);

90 
RD_DATA
:

91 if(
	`c›y_to_u£r
((
öt32_t
*)
¨g
, &
vÆ
, (val)) != 0)

93 
	`¥ötk
(
KERN_INFO
"ioctlÑead failed...\n");

99 
	}
}

101 
__öô
 
	$chr_drivî_öô
()

106 if((
	`Æloc_chrdev_ªgi⁄
(&
dev
, 0, 1, "my_Dev")) < 0)

108 
	`¥ötk
(
KERN_INFO
"CannotállocateÅhe majorÇumber...\n");

111 
	`¥ötk
(
KERN_INFO
"Maj‹ = %d\nMö‹ = %d\n", 
	`MAJOR
(
dev
), 
	`MINOR
(dev));

116 
	`cdev_öô
(&
my_cdev
, &
f›s
);

121 if((
	`cdev_add
(&
my_cdev
, 
dev
, 1)) < 0)

123 
	`¥ötk
(
KERN_INFO
"CannotáddÅhe deviceÅoÅhe system...\n");

124 
r_˛ass
;

130 if((
dev_˛ass
 = 
	`˛ass_¸óã
(
THIS_MODULE
, "my_˛ass")Ë=
NULL
)

132 
	`¥ötk
(
KERN_INFO
"cannot createÅhe struct class...\n");

133 
r_˛ass
;

138 if((
	`devi˚_¸óã
(
dev_˛ass
, 
NULL
, 
dev
, NULL, "my_device")) == NULL)

140 
	`¥ötk
(
KERN_INFO
"cannot createÅhe device...\n");

141 
r_devi˚
;

143 
	`¥ötk
(
KERN_INFO
"device driver is inserted...\n");

147 
r_devi˚
:

148 
	`˛ass_de°roy
(
dev_˛ass
);

151 
r_˛ass
:

152 
	`uƒegi°î_chrdev_ªgi⁄
(
dev
, 1);

154 
	}
}

156 
__exô
 
	$chr_drivî_exô
()

158 
	`devi˚_de°roy
(
dev_˛ass
, 
dev
);

159 
	`˛ass_de°roy
(
dev_˛ass
);

160 
	`cdev_dñ
(&
my_cdev
);

161 
	`uƒegi°î_chrdev_ªgi⁄
(
dev
, 1);

162 
	`¥ötk
(
KERN_INFO
"device driver isÑemoved successfully...\n");

163 
	}
}

165 
moduÀ_öô
(
chr_drivî_öô
);

166 
moduÀ_exô
(
chr_drivî_exô
);

168 
MODULE_LICENSE
("GPL");

169 
MODULE_AUTHOR
("Animesh");

170 
MODULE_DESCRIPTION
("The character device driver");

	@chr_drv_ex1.mod.c

1 
	~<löux/moduÀ.h
>

2 
	~<löux/vîmagic.h
>

3 
	~<löux/compûî.h
>

5 
MODULE_INFO
(
vîmagic
, 
VERMAGIC_STRING
);

7 
moduÀ
 
__this_moduÀ


8 
__©åibuã__
((
£˘i⁄
(".gnu.linkonce.this_module"))) = {

9 .
«me
 = 
KBUILD_MODNAME
,

10 .
	göô
 = 
öô_moduÀ
,

11 #ifde‡
CONFIG_MODULE_UNLOAD


12 .
	gexô
 = 
˛ónup_moduÀ
,

14 .
	g¨ch
 = 
MODULE_ARCH_INIT
,

17 c⁄° 
modvîsi⁄_öfo
 
	g____vîsi⁄s
[]

18 
__u£d


19 
__©åibuã__
((
£˘i⁄
("__versions"))) = {

20 { 0x28950ef1, 
__VMLINUX_SYMBOL_STR
(
moduÀ_œyout
) },

21 { 0x3Á89e8f, 
__VMLINUX_SYMBOL_STR
(
cdev_dñ
) },

22 { 0xacb„419, 
__VMLINUX_SYMBOL_STR
(
devi˚_de°roy
) },

23 { 0x7485e15e, 
__VMLINUX_SYMBOL_STR
(
uƒegi°î_chrdev_ªgi⁄
) },

24 { 0x450c190, 
__VMLINUX_SYMBOL_STR
(
˛ass_de°roy
) },

25 { 0x196103b4, 
__VMLINUX_SYMBOL_STR
(
devi˚_¸óã
) },

26 { 0x7e5df8e3, 
__VMLINUX_SYMBOL_STR
(
__˛ass_¸óã
) },

27 { 0x5f675a65, 
__VMLINUX_SYMBOL_STR
(
cdev_add
) },

28 { 0xdacd8618, 
__VMLINUX_SYMBOL_STR
(
cdev_öô
) },

29 { 0x29537c9e, 
__VMLINUX_SYMBOL_STR
(
Æloc_chrdev_ªgi⁄
) },

30 { 0x77e2f33, 
__VMLINUX_SYMBOL_STR
(
_c›y_‰om_u£r
) },

31 { 0x71de9b3f, 
__VMLINUX_SYMBOL_STR
(
_c›y_to_u£r
) },

32 { 0x88db9f48, 
__VMLINUX_SYMBOL_STR
(
__check_obje˘_size
) },

33 { 0x41ec4c1a, 
__VMLINUX_SYMBOL_STR
(
kmem_ˇche_Æloc_åa˚
) },

34 { 0x98ab5c8d, 
__VMLINUX_SYMBOL_STR
(
kmÆloc_ˇches
) },

35 { 0x27e1a049, 
__VMLINUX_SYMBOL_STR
(
¥ötk
) },

36 { 0x37a0cba, 
__VMLINUX_SYMBOL_STR
(
k‰ì
) },

37 { 0xbdfb6dbb, 
__VMLINUX_SYMBOL_STR
(
__„¡ry__
) },

40 c⁄° 
	g__moduÀ_dïíds
[]

41 
__u£d


42 
__©åibuã__
((
£˘i⁄
(".modinfo"))) =

46 
MODULE_INFO
(
§cvîsi⁄
, "EBA293ABD735423D1489E4B");

47 
MODULE_INFO
(
rhñvîsi⁄
, "7.8");

48 #ifde‡
RETPOLINE


49 
MODULE_INFO
(
ªçﬁöe
, "Y");

51 #ifde‡
CONFIG_MPROFILE_KERNEL


52 
MODULE_INFO
(
m¥ofûe
, "Y");

	@/usr/include/linux/fs.h

1 #i‚de‡
_LINUX_FS_H


2 
	#_LINUX_FS_H


	)

9 
	~<löux/limôs.h
>

10 
	~<löux/io˘l.h
>

11 
	~<löux/ty≥s.h
>

24 #unde‡
NR_OPEN


25 
	#INR_OPEN_CUR
 1024

	)

26 
	#INR_OPEN_MAX
 4096

	)

28 
	#BLOCK_SIZE_BITS
 10

	)

29 
	#BLOCK_SIZE
 (1<<
BLOCK_SIZE_BITS
)

	)

31 
	#SEEK_SET
 0

	)

32 
	#SEEK_CUR
 1

	)

33 
	#SEEK_END
 2

	)

34 
	#SEEK_DATA
 3

	)

35 
	#SEEK_HOLE
 4

	)

36 
	#SEEK_MAX
 
SEEK_HOLE


	)

38 
	#RENAME_NOREPLACE
 (1 << 0Ë

	)

39 
	#RENAME_EXCHANGE
 (1 << 1Ë

	)

40 
	#RENAME_WHITEOUT
 (1 << 2Ë

	)

42 
	sfûe_˛⁄e_ønge
 {

43 
__s64
 
	m§c_fd
;

44 
__u64
 
	m§c_off£t
;

45 
__u64
 
	m§c_Àngth
;

46 
__u64
 
	mde°_off£t
;

49 
	sf°rim_ønge
 {

50 
__u64
 
	m°¨t
;

51 
__u64
 
	mÀn
;

52 
__u64
 
	mmöÀn
;

56 
	sfûes_°©_°ru˘
 {

57 
	mƒ_fûes
;

58 
	mƒ_‰ì_fûes
;

59 
	mmax_fûes
;

62 
	söodes_°©_t
 {

63 
	mƒ_öodes
;

64 
	mƒ_unu£d
;

65 
	mdummy
[5];

69 
	#NR_FILE
 8192

	)

75 
	#MS_RDONLY
 1

	)

76 
	#MS_NOSUID
 2

	)

77 
	#MS_NODEV
 4

	)

78 
	#MS_NOEXEC
 8

	)

79 
	#MS_SYNCHRONOUS
 16

	)

80 
	#MS_REMOUNT
 32

	)

81 
	#MS_MANDLOCK
 64

	)

82 
	#MS_DIRSYNC
 128

	)

83 
	#MS_NOATIME
 1024

	)

84 
	#MS_NODIRATIME
 2048

	)

85 
	#MS_BIND
 4096

	)

86 
	#MS_MOVE
 8192

	)

87 
	#MS_REC
 16384

	)

88 
	#MS_VERBOSE
 32768

	)

90 
	#MS_SILENT
 32768

	)

91 
	#MS_POSIXACL
 (1<<16Ë

	)

92 
	#MS_UNBINDABLE
 (1<<17Ë

	)

93 
	#MS_PRIVATE
 (1<<18Ë

	)

94 
	#MS_SLAVE
 (1<<19Ë

	)

95 
	#MS_SHARED
 (1<<20Ë

	)

96 
	#MS_RELATIME
 (1<<21Ë

	)

97 
	#MS_KERNMOUNT
 (1<<22Ë

	)

98 
	#MS_I_VERSION
 (1<<23Ë

	)

99 
	#MS_STRICTATIME
 (1<<24Ë

	)

102 
	#MS_SUBMOUNT
 (1<<26)

	)

103 
	#MS_NOREMOTELOCK
 (1<<27)

	)

104 
	#MS_NOSEC
 (1<<28)

	)

105 
	#MS_BORN
 (1<<29)

	)

106 
	#MS_ACTIVE
 (1<<30)

	)

107 
	#MS_NOUSER
 (1<<31)

	)

112 
	#MS_RMT_MASK
 (
MS_RDONLY
|
MS_SYNCHRONOUS
|
MS_MANDLOCK
|
MS_I_VERSION
)

	)

117 
	#MS_MGC_VAL
 0xC0ED0000

	)

118 
	#MS_MGC_MSK
 0xffff0000

	)

123 
	#BLKROSET
 
	`_IO
(0x12,93Ë

	)

124 
	#BLKROGET
 
	`_IO
(0x12,94Ë

	)

125 
	#BLKRRPART
 
	`_IO
(0x12,95Ë

	)

126 
	#BLKGETSIZE
 
	`_IO
(0x12,96Ë

	)

127 
	#BLKFLSBUF
 
	`_IO
(0x12,97Ë

	)

128 
	#BLKRASET
 
	`_IO
(0x12,98Ë

	)

129 
	#BLKRAGET
 
	`_IO
(0x12,99Ë

	)

130 
	#BLKFRASET
 
	`_IO
(0x12,100)

	)

131 
	#BLKFRAGET
 
	`_IO
(0x12,101)

	)

132 
	#BLKSECTSET
 
	`_IO
(0x12,102)

	)

133 
	#BLKSECTGET
 
	`_IO
(0x12,103)

	)

134 
	#BLKSSZGET
 
	`_IO
(0x12,104)

	)

136 
	#BLKPG
 
	`_IO
(0x12,105)

	)

140 
	#BLKELVGET
 
	`_IOR
(0x12,106,
size_t
)

	)

141 
	#BLKELVSET
 
	`_IOW
(0x12,107,
size_t
)

	)

146 
	#BLKBSZGET
 
	`_IOR
(0x12,112,
size_t
)

	)

147 
	#BLKBSZSET
 
	`_IOW
(0x12,113,
size_t
)

	)

148 
	#BLKGETSIZE64
 
	`_IOR
(0x12,114,
size_t
Ë

	)

149 
	#BLKTRACESETUP
 
	`_IOWR
(0x12,115,
blk_u£r_åa˚_£tup
)

	)

150 
	#BLKTRACESTART
 
	`_IO
(0x12,116)

	)

151 
	#BLKTRACESTOP
 
	`_IO
(0x12,117)

	)

152 
	#BLKTRACETEARDOWN
 
	`_IO
(0x12,118)

	)

153 
	#BLKDISCARD
 
	`_IO
(0x12,119)

	)

154 
	#BLKIOMIN
 
	`_IO
(0x12,120)

	)

155 
	#BLKIOOPT
 
	`_IO
(0x12,121)

	)

156 
	#BLKALIGNOFF
 
	`_IO
(0x12,122)

	)

157 
	#BLKPBSZGET
 
	`_IO
(0x12,123)

	)

158 
	#BLKDISCARDZEROES
 
	`_IO
(0x12,124)

	)

159 
	#BLKSECDISCARD
 
	`_IO
(0x12,125)

	)

160 
	#BLKROTATIONAL
 
	`_IO
(0x12,126)

	)

161 
	#BLKZEROOUT
 
	`_IO
(0x12,127)

	)

163 
	#BMAP_IOCTL
 1

	)

164 
	#FIBMAP
 
	`_IO
(0x00,1Ë

	)

165 
	#FIGETBSZ
 
	`_IO
(0x00,2Ë

	)

166 
	#FIFREEZE
 
	`_IOWR
('X', 119, Ë

	)

167 
	#FITHAW
 
	`_IOWR
('X', 120, Ë

	)

168 
	#FITRIM
 
	`_IOWR
('X', 121, 
f°rim_ønge
Ë

	)

169 
	#FICLONE
 
	`_IOW
(0x94, 9, )

	)

170 
	#FICLONERANGE
 
	`_IOW
(0x94, 13, 
fûe_˛⁄e_ønge
)

	)

172 
	#FSLABEL_MAX
 256

	)

174 
	#FS_IOC_GETFLAGS
 
	`_IOR
('f', 1, )

	)

175 
	#FS_IOC_SETFLAGS
 
	`_IOW
('f', 2, )

	)

176 
	#FS_IOC_GETVERSION
 
	`_IOR
('v', 1, )

	)

177 
	#FS_IOC_SETVERSION
 
	`_IOW
('v', 2, )

	)

178 
	#FS_IOC_FIEMAP
 
	`_IOWR
('f', 11, 
fõm≠
)

	)

179 
	#FS_IOC32_GETFLAGS
 
	`_IOR
('f', 1, )

	)

180 
	#FS_IOC32_SETFLAGS
 
	`_IOW
('f', 2, )

	)

181 
	#FS_IOC32_GETVERSION
 
	`_IOR
('v', 1, )

	)

182 
	#FS_IOC32_SETVERSION
 
	`_IOW
('v', 2, )

	)

183 
	#FS_IOC_GETFSLABEL
 
	`_IOR
(0x94, 49, [
FSLABEL_MAX
])

	)

184 
	#FS_IOC_SETFSLABEL
 
	`_IOW
(0x94, 50, [
FSLABEL_MAX
])

	)

189 
	#FS_SECRM_FL
 0x00000001

	)

190 
	#FS_UNRM_FL
 0x00000002

	)

191 
	#FS_COMPR_FL
 0x00000004

	)

192 
	#FS_SYNC_FL
 0x00000008

	)

193 
	#FS_IMMUTABLE_FL
 0x00000010

	)

194 
	#FS_APPEND_FL
 0x00000020

	)

195 
	#FS_NODUMP_FL
 0x00000040

	)

196 
	#FS_NOATIME_FL
 0x00000080

	)

198 
	#FS_DIRTY_FL
 0x00000100

	)

199 
	#FS_COMPRBLK_FL
 0x00000200

	)

200 
	#FS_NOCOMP_FL
 0x00000400

	)

201 
	#FS_ECOMPR_FL
 0x00000800

	)

203 
	#FS_BTREE_FL
 0x00001000

	)

204 
	#FS_INDEX_FL
 0x00001000

	)

205 
	#FS_IMAGIC_FL
 0x00002000

	)

206 
	#FS_JOURNAL_DATA_FL
 0x00004000

	)

207 
	#FS_NOTAIL_FL
 0x00008000

	)

208 
	#FS_DIRSYNC_FL
 0x00010000

	)

209 
	#FS_TOPDIR_FL
 0x00020000

	)

210 
	#FS_EXTENT_FL
 0x00080000

	)

211 
	#FS_DIRECTIO_FL
 0x00100000

	)

212 
	#FS_NOCOW_FL
 0x00800000

	)

213 
	#FS_RESERVED_FL
 0x80000000

	)

215 
	#FS_FL_USER_VISIBLE
 0x0003DFFF

	)

216 
	#FS_FL_USER_MODIFIABLE
 0x000380FF

	)

219 
	#SYNC_FILE_RANGE_WAIT_BEFORE
 1

	)

220 
	#SYNC_FILE_RANGE_WRITE
 2

	)

221 
	#SYNC_FILE_RANGE_WAIT_AFTER
 4

	)

	@/usr/include/linux/ioctl.h

1 #i‚de‡
_LINUX_IOCTL_H


2 
	#_LINUX_IOCTL_H


	)

4 
	~<asm/io˘l.h
>

	@/usr/include/linux/kdev_t.h

1 #i‚de‡
_LINUX_KDEV_T_H


2 
	#_LINUX_KDEV_T_H


	)

8 
	#MAJOR
(
dev
Ë((dev)>>8)

	)

9 
	#MINOR
(
dev
Ë((devË& 0xff)

	)

10 
	#MKDEV
(
ma
,
mi
Ë((ma)<<8 | (mi))

	)

	@/usr/include/linux/kernel.h

1 #i‚de‡
_LINUX_KERNEL_H


2 
	#_LINUX_KERNEL_H


	)

4 
	~<löux/sysöfo.h
>

9 
	#__ALIGN_KERNEL
(
x
, 
a
Ë
	`__ALIGN_KERNEL_MASK
(x, (
	`ty≥of
(x))◊Ë- 1)

	)

10 
	#__ALIGN_KERNEL_MASK
(
x
, 
mask
Ë(((xË+ (mask)Ë& ~(mask))

	)

12 
	#__KERNEL_DIV_ROUND_UP
(
n
, 
d
Ë((“Ë+ (dË- 1Ë/ (d))

	)

	@/usr/include/asm/ioctl.h

1 
	~<asm-gíîic/io˘l.h
>

	@/usr/include/linux/limits.h

1 #i‚de‡
_LINUX_LIMITS_H


2 
	#_LINUX_LIMITS_H


	)

4 
	#NR_OPEN
 1024

	)

6 
	#NGROUPS_MAX
 65536

	)

7 
	#ARG_MAX
 131072

	)

8 
	#LINK_MAX
 127

	)

9 
	#MAX_CANON
 255

	)

10 
	#MAX_INPUT
 255

	)

11 
	#NAME_MAX
 255

	)

12 
	#PATH_MAX
 4096

	)

13 
	#PIPE_BUF
 4096

	)

14 
	#XATTR_NAME_MAX
 255

	)

15 
	#XATTR_SIZE_MAX
 65536

	)

16 
	#XATTR_LIST_MAX
 65536

	)

18 
	#RTSIG_MAX
 32

	)

	@/usr/include/linux/sysinfo.h

1 #i‚de‡
_LINUX_SYSINFO_H


2 
	#_LINUX_SYSINFO_H


	)

4 
	~<löux/ty≥s.h
>

6 
	#SI_LOAD_SHIFT
 16

	)

7 
	ssysöfo
 {

8 
__kî√l_l⁄g_t
 
	mu±ime
;

9 
__kî√l_ul⁄g_t
 
	mlﬂds
[3];

10 
__kî√l_ul⁄g_t
 
	mtŸÆøm
;

11 
__kî√l_ul⁄g_t
 
	m‰ìøm
;

12 
__kî√l_ul⁄g_t
 
	msh¨edøm
;

13 
__kî√l_ul⁄g_t
 
	mbuf„ºam
;

14 
__kî√l_ul⁄g_t
 
	mtŸÆsw≠
;

15 
__kî√l_ul⁄g_t
 
	m‰ìsw≠
;

16 
__u16
 
	m¥ocs
;

17 
__u16
 
	m∑d
;

18 
__kî√l_ul⁄g_t
 
	mtŸÆhigh
;

19 
__kî√l_ul⁄g_t
 
	m‰ìhigh
;

20 
__u32
 
	mmem_unô
;

21 
	m_f
[20-2*(
__kî√l_ul⁄g_t
)-(
__u32
)];

	@/usr/include/linux/types.h

1 #i‚de‡
_LINUX_TYPES_H


2 
	#_LINUX_TYPES_H


	)

4 
	~<asm/ty≥s.h
>

6 #i‚de‡
__ASSEMBLY__


8 
	~<löux/posix_ty≥s.h
>

16 #ifde‡
__CHECKER__


17 
	#__bôwi£__
 
	`__©åibuã__
((
bôwi£
))

	)

19 
	#__bôwi£__


	)

21 #ifde‡
__CHECK_ENDIAN__


22 
	#__bôwi£
 
__bôwi£__


	)

24 
	#__bôwi£


	)

27 
__u16
 
	t__bôwi£
 
	t__À16
;

28 
__u16
 
	t__bôwi£
 
	t__be16
;

29 
__u32
 
	t__bôwi£
 
	t__À32
;

30 
__u32
 
	t__bôwi£
 
	t__be32
;

31 
__u64
 
	t__bôwi£
 
	t__À64
;

32 
__u64
 
	t__bôwi£
 
	t__be64
;

34 
__u16
 
	t__bôwi£
 
	t__sum16
;

35 
__u32
 
	t__bôwi£
 
	t__wsum
;

46 
	#__Æig√d_u64
 
__u64
 
	`__©åibuã__
((
	`Æig√d
(8)))

	)

47 
	#__Æig√d_be64
 
__be64
 
	`__©åibuã__
((
	`Æig√d
(8)))

	)

48 
	#__Æig√d_À64
 
__À64
 
	`__©åibuã__
((
	`Æig√d
(8)))

	)

	@/usr/include/asm-generic/ioctl.h

1 #i‚de‡
_ASM_GENERIC_IOCTL_H


2 
	#_ASM_GENERIC_IOCTL_H


	)

22 
	#_IOC_NRBITS
 8

	)

23 
	#_IOC_TYPEBITS
 8

	)

30 #i‚de‡
_IOC_SIZEBITS


31 
	#_IOC_SIZEBITS
 14

	)

34 #i‚de‡
_IOC_DIRBITS


35 
	#_IOC_DIRBITS
 2

	)

38 
	#_IOC_NRMASK
 ((1 << 
_IOC_NRBITS
)-1)

	)

39 
	#_IOC_TYPEMASK
 ((1 << 
_IOC_TYPEBITS
)-1)

	)

40 
	#_IOC_SIZEMASK
 ((1 << 
_IOC_SIZEBITS
)-1)

	)

41 
	#_IOC_DIRMASK
 ((1 << 
_IOC_DIRBITS
)-1)

	)

43 
	#_IOC_NRSHIFT
 0

	)

44 
	#_IOC_TYPESHIFT
 (
_IOC_NRSHIFT
+
_IOC_NRBITS
)

	)

45 
	#_IOC_SIZESHIFT
 (
_IOC_TYPESHIFT
+
_IOC_TYPEBITS
)

	)

46 
	#_IOC_DIRSHIFT
 (
_IOC_SIZESHIFT
+
_IOC_SIZEBITS
)

	)

56 #i‚de‡
_IOC_NONE


57 
	#_IOC_NONE
 0U

	)

60 #i‚de‡
_IOC_WRITE


61 
	#_IOC_WRITE
 1U

	)

64 #i‚de‡
_IOC_READ


65 
	#_IOC_READ
 2U

	)

68 
	#_IOC
(
dú
,
ty≥
,
ƒ
,
size
) \

69 (((
dú
Ë<< 
_IOC_DIRSHIFT
) | \

70 ((
ty≥
Ë<< 
_IOC_TYPESHIFT
) | \

71 ((
ƒ
Ë<< 
_IOC_NRSHIFT
) | \

72 ((
size
Ë<< 
_IOC_SIZESHIFT
))

	)

74 
	#_IOC_TYPECHECK
(
t
Ë(—))

	)

82 
	#_IO
(
ty≥
,
ƒ
Ë
	`_IOC
(
_IOC_NONE
,—y≥),“r),0)

	)

83 
	#_IOR
(
ty≥
,
ƒ
,
size
Ë
	`_IOC
(
_IOC_READ
,—y≥),“r),(
	`_IOC_TYPECHECK
(size)))

	)

84 
	#_IOW
(
ty≥
,
ƒ
,
size
Ë
	`_IOC
(
_IOC_WRITE
,—y≥),“r),(
	`_IOC_TYPECHECK
(size)))

	)

85 
	#_IOWR
(
ty≥
,
ƒ
,
size
Ë
	`_IOC
(
_IOC_READ
|
_IOC_WRITE
,—y≥),“r),(
	`_IOC_TYPECHECK
(size)))

	)

86 
	#_IOR_BAD
(
ty≥
,
ƒ
,
size
Ë
	`_IOC
(
_IOC_READ
,—y≥),“r),(size))

	)

87 
	#_IOW_BAD
(
ty≥
,
ƒ
,
size
Ë
	`_IOC
(
_IOC_WRITE
,—y≥),“r),(size))

	)

88 
	#_IOWR_BAD
(
ty≥
,
ƒ
,
size
Ë
	`_IOC
(
_IOC_READ
|
_IOC_WRITE
,—y≥),“r),(size))

	)

91 
	#_IOC_DIR
(
ƒ
Ë((“rË>> 
_IOC_DIRSHIFT
Ë& 
_IOC_DIRMASK
)

	)

92 
	#_IOC_TYPE
(
ƒ
Ë((“rË>> 
_IOC_TYPESHIFT
Ë& 
_IOC_TYPEMASK
)

	)

93 
	#_IOC_NR
(
ƒ
Ë((“rË>> 
_IOC_NRSHIFT
Ë& 
_IOC_NRMASK
)

	)

94 
	#_IOC_SIZE
(
ƒ
Ë((“rË>> 
_IOC_SIZESHIFT
Ë& 
_IOC_SIZEMASK
)

	)

98 
	#IOC_IN
 (
_IOC_WRITE
 << 
_IOC_DIRSHIFT
)

	)

99 
	#IOC_OUT
 (
_IOC_READ
 << 
_IOC_DIRSHIFT
)

	)

100 
	#IOC_INOUT
 ((
_IOC_WRITE
|
_IOC_READ
Ë<< 
_IOC_DIRSHIFT
)

	)

101 
	#IOCSIZE_MASK
 (
_IOC_SIZEMASK
 << 
_IOC_SIZESHIFT
)

	)

102 
	#IOCSIZE_SHIFT
 (
_IOC_SIZESHIFT
)

	)

	@/usr/include/asm/types.h

1 #i‚de‡
_ASM_X86_TYPES_H


2 
	#_ASM_X86_TYPES_H


	)

4 
	~<asm-gíîic/ty≥s.h
>

	@/usr/include/linux/posix_types.h

1 #i‚de‡
_LINUX_POSIX_TYPES_H


2 
	#_LINUX_POSIX_TYPES_H


	)

4 
	~<löux/°ddef.h
>

21 #unde‡
__FD_SETSIZE


22 
	#__FD_SETSIZE
 1024

	)

25 
	mfds_bôs
[
__FD_SETSIZE
 / (8 * ())];

26 } 
	t__kî√l_fd_£t
;

29 (*
	t__kî√l_sigh™dÀr_t
)();

32 
	t__kî√l_key_t
;

33 
	t__kî√l_mqd_t
;

35 
	~<asm/posix_ty≥s.h
>

	@/usr/include/asm-generic/types.h

1 #i‚de‡
_ASM_GENERIC_TYPES_H


2 
	#_ASM_GENERIC_TYPES_H


	)

7 
	~<asm-gíîic/öt-Œ64.h
>

	@/usr/include/asm/posix_types.h

1 #ifde‡
__i386__


2 
	~<asm/posix_ty≥s_32.h
>

3 #ñi‡
deföed
(
__ILP32__
)

4 
	~<asm/posix_ty≥s_x32.h
>

6 
	~<asm/posix_ty≥s_64.h
>

	@/usr/include/linux/stddef.h

	@/usr/include/asm-generic/int-ll64.h

8 #i‚de‡
_ASM_GENERIC_INT_LL64_H


9 
	#_ASM_GENERIC_INT_LL64_H


	)

11 
	~<asm/bô•îl⁄g.h
>

13 #i‚de‡
__ASSEMBLY__


19 
__sig√d__
 
	t__s8
;

20 
	t__u8
;

22 
__sig√d__
 
	t__s16
;

23 
	t__u16
;

25 
__sig√d__
 
	t__s32
;

26 
	t__u32
;

28 #ifde‡
__GNUC__


29 
__exãnsi⁄__
 
__sig√d__
 
	t__s64
;

30 
__exãnsi⁄__
 
	t__u64
;

32 
__sig√d__
 
	t__s64
;

33 
	t__u64
;

	@/usr/include/asm/posix_types_32.h

1 #i‚de‡
_ASM_X86_POSIX_TYPES_32_H


2 
	#_ASM_X86_POSIX_TYPES_32_H


	)

10 
	t__kî√l_mode_t
;

11 
	#__kî√l_mode_t
 
__kî√l_mode_t


	)

13 
	t__kî√l_ùc_pid_t
;

14 
	#__kî√l_ùc_pid_t
 
__kî√l_ùc_pid_t


	)

16 
	t__kî√l_uid_t
;

17 
	t__kî√l_gid_t
;

18 
	#__kî√l_uid_t
 
__kî√l_uid_t


	)

20 
	t__kî√l_ﬁd_dev_t
;

21 
	#__kî√l_ﬁd_dev_t
 
__kî√l_ﬁd_dev_t


	)

23 
	~<asm-gíîic/posix_ty≥s.h
>

	@/usr/include/asm/posix_types_64.h

1 #i‚de‡
_ASM_X86_POSIX_TYPES_64_H


2 
	#_ASM_X86_POSIX_TYPES_64_H


	)

10 
	t__kî√l_ﬁd_uid_t
;

11 
	t__kî√l_ﬁd_gid_t
;

12 
	#__kî√l_ﬁd_uid_t
 
__kî√l_ﬁd_uid_t


	)

14 
	t__kî√l_ﬁd_dev_t
;

15 
	#__kî√l_ﬁd_dev_t
 
__kî√l_ﬁd_dev_t


	)

17 
	~<asm-gíîic/posix_ty≥s.h
>

	@/usr/include/asm/posix_types_x32.h

1 #i‚de‡
_ASM_X86_POSIX_TYPES_X32_H


2 
	#_ASM_X86_POSIX_TYPES_X32_H


	)

13 
	t__kî√l_l⁄g_t
;

14 
	t__kî√l_ul⁄g_t
;

15 
	#__kî√l_l⁄g_t
 
__kî√l_l⁄g_t


	)

17 
	~<asm/posix_ty≥s_64.h
>

	@/usr/include/asm-generic/posix_types.h

1 #i‚de‡
__ASM_GENERIC_POSIX_TYPES_H


2 
	#__ASM_GENERIC_POSIX_TYPES_H


	)

4 
	~<asm/bô•îl⁄g.h
>

13 #i‚de‡
__kî√l_l⁄g_t


14 
	t__kî√l_l⁄g_t
;

15 
	t__kî√l_ul⁄g_t
;

18 #i‚de‡
__kî√l_öo_t


19 
__kî√l_ul⁄g_t
 
	t__kî√l_öo_t
;

22 #i‚de‡
__kî√l_mode_t


23 
	t__kî√l_mode_t
;

26 #i‚de‡
__kî√l_pid_t


27 
	t__kî√l_pid_t
;

30 #i‚de‡
__kî√l_ùc_pid_t


31 
	t__kî√l_ùc_pid_t
;

34 #i‚de‡
__kî√l_uid_t


35 
	t__kî√l_uid_t
;

36 
	t__kî√l_gid_t
;

39 #i‚de‡
__kî√l_su£c⁄ds_t


40 
__kî√l_l⁄g_t
 
	t__kî√l_su£c⁄ds_t
;

43 #i‚de‡
__kî√l_daddr_t


44 
	t__kî√l_daddr_t
;

47 #i‚de‡
__kî√l_uid32_t


48 
	t__kî√l_uid32_t
;

49 
	t__kî√l_gid32_t
;

52 #i‚de‡
__kî√l_ﬁd_uid_t


53 
__kî√l_uid_t
 
	t__kî√l_ﬁd_uid_t
;

54 
__kî√l_gid_t
 
	t__kî√l_ﬁd_gid_t
;

57 #i‚de‡
__kî√l_ﬁd_dev_t


58 
	t__kî√l_ﬁd_dev_t
;

65 #i‚de‡
__kî√l_size_t


66 #i‡
__BITS_PER_LONG
 != 64

67 
	t__kî√l_size_t
;

68 
	t__kî√l_ssize_t
;

69 
	t__kî√l_±rdiff_t
;

71 
__kî√l_ul⁄g_t
 
	t__kî√l_size_t
;

72 
__kî√l_l⁄g_t
 
	t__kî√l_ssize_t
;

73 
__kî√l_l⁄g_t
 
	t__kî√l_±rdiff_t
;

77 #i‚de‡
__kî√l_fsid_t


79 
	mvÆ
[2];

80 } 
	t__kî√l_fsid_t
;

86 
__kî√l_l⁄g_t
 
	t__kî√l_off_t
;

87 
	t__kî√l_loff_t
;

88 
__kî√l_l⁄g_t
 
	t__kî√l_time_t
;

89 
__kî√l_l⁄g_t
 
	t__kî√l_˛ock_t
;

90 
	t__kî√l_timî_t
;

91 
	t__kî√l_˛ockid_t
;

92 * 
	t__kî√l_ˇddr_t
;

93 
	t__kî√l_uid16_t
;

94 
	t__kî√l_gid16_t
;

	@/usr/include/asm/bitsperlong.h

1 #i‚de‡
__ASM_X86_BITSPERLONG_H


2 
	#__ASM_X86_BITSPERLONG_H


	)

4 #ifde‡
__x86_64__


5 
	#__BITS_PER_LONG
 64

	)

7 
	#__BITS_PER_LONG
 32

	)

10 
	~<asm-gíîic/bô•îl⁄g.h
>

	@/usr/include/asm-generic/bitsperlong.h

1 #i‚de‡
__ASM_GENERIC_BITS_PER_LONG


2 
	#__ASM_GENERIC_BITS_PER_LONG


	)

11 #i‚de‡
__BITS_PER_LONG


12 
	#__BITS_PER_LONG
 32

	)

	@
1
.
1
/usr/include
23
679
chr_drv_ex1.c
chr_drv_ex1.mod.c
/usr/include/linux/fs.h
/usr/include/linux/ioctl.h
/usr/include/linux/kdev_t.h
/usr/include/linux/kernel.h
/usr/include/asm/ioctl.h
/usr/include/linux/limits.h
/usr/include/linux/sysinfo.h
/usr/include/linux/types.h
/usr/include/asm-generic/ioctl.h
/usr/include/asm/types.h
/usr/include/linux/posix_types.h
/usr/include/asm-generic/types.h
/usr/include/asm/posix_types.h
/usr/include/linux/stddef.h
/usr/include/asm-generic/int-ll64.h
/usr/include/asm/posix_types_32.h
/usr/include/asm/posix_types_64.h
/usr/include/asm/posix_types_x32.h
/usr/include/asm-generic/posix_types.h
/usr/include/asm/bitsperlong.h
/usr/include/asm-generic/bitsperlong.h
